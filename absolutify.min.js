(function(){"use strict";function r(e,t){return"function"==typeof t?r.iterate(e,t):r.all(e,t)}r.rx=/((href|src|codebase|cite|background|action|profile|formaction|icon|manifest|archive)=["'])(([.]+\/)|(?:\/)|(?=#))(?!\/)/g,r.attrs=/((poster|longdesc|dynsrc|lowsrc|usemap)=["'])(([.]+\/)|(?:\/)|(?=#))(?!\/)/g,r.styles=/((background|background-image|filter):)(.*?)(;)/g,r.urls=/(url\(["']?)(([.]+\/)|(?:\/)|(?=#))(?!\/)/g,r.srcset=/(srcset=["'])(.*?)(["'])/g,r.all=function(e,t){var c=e.replace(r.rx,"$1"+t+"/$4");return c=c.replace(r.attrs,"$1"+t+"/$4"),c=c.replace(r.styles,function(e,c,n,a,s){return c+a.replace(r.urls,"$1"+t+"/")+s}),c.replace(r.srcset,function(r,e,c,n){var a=c.split(","),s="";return a.forEach(function(r,e){s&&(s+=", "),s+=r.trim().replace(/^(([.]+\/)|(?:\/)|(?=#))(?!\/)/,t+"/")}),e+s+n})},r.captureRx=/((href|src|codebase|cite|background|action|profile|formaction|icon|manifest|archive)=["'])((([.]+\/)|(?:\/)|(?:#))(?!\/)[a-zA-Z0-9._-]+)/g,r.captureAttrs=/((poster|longdesc|dynsrc|lowsrc|usemap)=["'])((([.]+\/)|(?:\/)|(?:#))(?!\/)[a-zA-Z0-9._-]+)/g,r.iterate=function(e,t){var c=e.replace(r.captureRx,function(r,e,c,n){return e+t(n,c)});return c.replace(r.captureAttrs,function(r,e,c,n){return e+t(n,c)})},"undefined"!=typeof exports?module.exports=r:this.absolutify=r}).call(this);